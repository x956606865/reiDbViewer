---
id: data-browser
sidebar_label: 数据浏览与查询
title: 数据浏览与查询执行
---

数据浏览器提供分页、排序、筛选与自定义查询的统一入口，所有执行请求均在只读事务中完成。

![数据浏览表格占位符](/img/placeholders/table-browser.svg)

## 表数据分页
### 前提条件
- 已选择目标 Schema 与表；连接健康状态正常。

### 操作步骤
1. 在浏览页面顶部选择排序列（默认按主键）。
2. 通过“Keyset / Offset”切换控制分页策略；推荐保留 Keyset 以获得稳定性能。
3. 使用筛选器添加条件，支持比较、区间与 JSON 路径过滤。
4. 点击 **Apply** 立即更新表格。

### 结果确认
- 表格右上角显示当前页游标信息，底部状态栏给出查询耗时与返回行数。

### 故障排查
| 提示 | 说明 | 建议 |
| --- | --- | --- |
| `too_many_rows` | 结果超过 `MAX_ROW_LIMIT` | 收紧筛选条件或导出前改用 Saved SQL 分页 |
| `keyset_not_supported` | 缺乏唯一排序键 | 切换到 Offset 模式或为排序字段添加唯一索引 |

![查询编辑器占位符](/img/placeholders/query-editor.svg)

## 自定义查询
- 编辑器支持 SQL 高亮、模板变量补全与语法提示。
- 仅允许 `SELECT/WITH` 开头的语句；提交时会调用 Query Engine 生成参数化 SQL。

### 操作步骤
1. 在编辑器中输入查询，可使用 `{{variable}}` 声明参数。
2. 点击 **Preview SQL** 查看 AST→SQL 转换结果，确认被参数化的 `$n` 占位符顺序。
3. 输入变量取值后点击 **Run Query**，结果面板会展示数据表格与原始 SQL。

### 结果确认
- 执行成功后，表格上方显示返回行数与缓存命中提示。
- 如果执行失败但提供 `preview` 字段，页面会自动降级至只读预览模式。

## 查询历史与收藏
- 最近运行的查询会保存在本地，支持一键重新执行。
- 点击“保存为 Saved SQL”可将当前查询迁移至模板管理模块并共享给团队。

## 导出结果
- 支持 CSV 与 JSON 导出，导出流程默认受 `MAX_ROW_LIMIT` 限制。
- 导出过程会提示敏感列掩码规则，确保遵守数据分级策略。
