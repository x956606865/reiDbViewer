---
id: task-playbooks
sidebar_label: 任务导向指南
title: 任务导向指南
---

本章按常见任务提供一站式流程，你可以直接对照步骤完成操作，或在团队培训时用作讲义。

## 查看表结构
![查看表结构占位符](/img/placeholders/task-guides.svg)

### 前提条件
- 已选择目标连接，Schema Explorer 缓存最新。

### 操作步骤
1. 打开命令面板，搜索表名并进入 Schema Explorer。
2. 在字段列表右上角选择“列设置”以显示默认值与注释。
3. 如需查看索引或关系图，切换到对应选项卡。

### 结果确认
- 确认字段表格展示完整的列信息，关系图标出外键指向。

### 故障排查
- 若未找到表，请检查 Schema 是否被隐藏；可在设置中清空隐藏规则。

## 导出查询结果
![导出查询结果占位符](/img/placeholders/task-guides.svg)

### 前提条件
- 数据浏览器中已构建合适的筛选条件，返回行数不超过上限。

### 操作步骤
1. 在数据浏览器表格右上角点击 **Export**。
2. 选择导出格式（CSV/JSON）与是否应用列掩码。
3. 确认提示中的脱敏说明后开始导出。

### 结果确认
- 系统提示导出完成并提供本地文件路径；若启用脱敏，将附带掩码摘要。

### 故障排查
- 当导出按钮禁用时，检查查询是否超出 `MAX_ROW_LIMIT`；可以改用 Saved SQL 分页导出。

## 保存查询模板
![保存查询模板占位符](/img/placeholders/task-guides.svg)

### 前提条件
- 查询已在数据浏览器或临时编辑器中验证通过。

### 操作步骤
1. 点击查询结果区域的 **Save as Template**。
2. 填写模板名称、文件夹与标签，确认变量默认值。
3. 在 Saved SQL 模块中打开新模板，运行 `Preview` 确认参数化结果。

### 结果确认
- 模板出现在 Saved SQL 列表，预览面板展示 `$n` 占位符。

### 故障排查
- 若保存时提示模板无效，检查是否包含写操作或变量类型未定义。

## 排查锁等待
![排查锁等待占位符](/img/placeholders/task-guides.svg)

### 前提条件
- 运维工具权限可用，目标库允许访问 `pg_locks`。

### 操作步骤
1. 打开运维工具，选择“锁等待”卡片。
2. 设置时间窗口与数据库过滤条件后点击 **Run**。
3. 根据结果中的阻塞 PID 跳转到连接管理页面，决定是否取消。

### 结果确认
- 结果表格显示阻塞链路，包含阻塞方与被阻塞方的 SQL 摘要。

### 故障排查
- 若查询为空，可能当前无锁等待；可扩大时间窗口或检查权限。
